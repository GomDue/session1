# 🗂️ SQL 데이터 타입 개요

## 1. 종류
- SQL에서는 다양한 **데이터 타입**을 제공하여 효율적으로 데이터를 저장하고 관리할 수 있음.

<br/>

- **문자형(TEXT, CHAR, VARCHAR)**
- **이진 데이터(BYTEA, BLOB)**
- **숫자형(INTEGER, FLOAT, DOUBLE PRECISION, NUMERIC)**
- **날짜 및 시간(TIMESTAMP, DATE, TIME)**


<br/>

## 2. 문자 데이터 타입
### 2.1 VARCHAR (가변 길이 문자열)
- **사용법:** `VARCHAR(128)` → 최대 128자까지 저장 가능.
- **특징:**
  - 데이터의 길이가 유동적일 때 사용.
  - 문자열 길이가 64를 넘어가면 일반적으로 VARCHAR 사용
  - 내부적으로 길이를 저장하는 **카운트 필드**를 포함함.
  - **인덱스 및 검색에 적합**.

### 2.2 CHAR (고정 길이 문자열)
- **사용법:** `CHAR(64)` → 정확히 64자 저장.
- **특징:**
  - 짧은 문자여이나 문자열 길이가 64를 넘어가지 않을 때 사용
  - 항상 고정된 길이의 데이터를 저장할 때 사용.
  - **GUID(Global Unique Identifier)** 나 **해시 값**처럼 **항상 동일한 길이를 가지는 데이터**에 적합.
  - **전체 공간을 미리 할당**하므로 빈 공간을 낭비할 수 있음.
  - 데이터를 덩어리(`chuck`) 단위로 저장장

### 2.3 TEXT (무제한 길이 문자열)
- **사용법:** `TEXT`
- **특징:**
  - 데이터 길이를 제한하지 않음.
  - `VARCHAR`와 달리 인덱싱이 제한적이며, 정렬 및 검색에 비효율적.
  - `ORDER BY`, `WHERE` 절에서 직접 사용하는 것은 비효율적
  - **블로그 포스트, 코멘트, 웹 페이지 저장에 적합**.

<br/>

## 3. 이진 데이터 (Binary Data)
### 3.1 BYTEA (바이너리 데이터 저장)
- **사용법:** `BYTEA`
- **특징:**
  - **이미지, 파일, 암호화된 데이터 등**을 저장할 때 사용.
  - 텍스트 데이터와 달리 **문자 인코딩이 없음**.
  - 정렬 및 검색이 제한적이며, 주로 데이터 저장 용도로 사용.

<br/>

## 4. 숫자 데이터 타입
### 4.1 정수형 데이터
| 데이터 타입 | 크기 | 저장 가능 범위 |
|------------|------|----------------|
| `SMALLINT` | 2바이트 | -32,768 ~ 32,767 |
| `INTEGER` | 4바이트 | -2,147,483,648 ~ 2,147,483,647 |
| `BIGINT` | 8바이트 | 어마어마한 범위 |

- `INTEGER`(32비트 정수)는 가장 일반적으로 사용됨.
- `SMALLINT`는 메모리를 절약할 수 있으나 저장 가능한 값이 제한됨.
- `BIGINT`는 매우 큰 수를 다룰 때 사용됨.

### 4.2 실수형 데이터 (부동소수점)
| 데이터 타입 | 크기 | 정확도 |
|------------|------|------------|
| `REAL` | 4바이트 | 소수점 이하 7자리까지 정확 |
| `DOUBLE PRECISION` | 8바이트 | 소수점 이하 15~16자리까지 정확 |

- `REAL`(32비트)은 근사치 계산에 적합 (예: 평균 기온 계산).
- `DOUBLE PRECISION`(64비트)은 정밀한 계산이 필요할 때 사용 (예: 천체 물리학 시뮬레이션).
- 금융 데이터를 다룰 때는 `REAL`과 `DOUBLE PRECISION` 대신 **NUMERIC**을 사용해야 함.

### 4.3 금융 데이터 (정확한 소수점 연산)
- **사용법:** `NUMERIC(14,2)` → 총 14자리 중 소수점 이하 2자리.
- **특징:**
  - **정확한 연산이 필요할 때 사용** (예: 금융, 회계 데이터).
  - `REAL` 및 `DOUBLE PRECISION`은 2진수 기반 부동소수점이라 2진법으로 설명하지 못하는 경우가 발생할 수 있음.
  - `NUMERIC`은 10진수 기반 고정소수점이라 **정확한 소수점 연산 가능**.

<br/>

## 5. 날짜 및 시간 데이터 타입
### 5.1 TIMESTAMP (날짜 및 시간)
- **사용법:** `TIMESTAMP`
- **특징:**
  - `TIMESTAMP`는 초 단위까지 기록 가능하며, 64비트 정수로 저장됨.
  - 과거 **32비트 시스템에서는 2038년 문제**(Y2038)가 발생했으나, 현재는 **64비트 확장으로 300,000년까지 문제없이 사용 가능**.

### 5.2 DATE & TIME
- **DATE:** `YYYY-MM-DD` 형식으로 날짜만 저장.
- **TIME:** `HH:MM:SS` 형식으로 시간만 저장.

<br/>

## 6. 데이터 타입 선택 가이드
| 사용 목적 | 추천 데이터 타입 |
|----------------|----------------|
| 가변 길이 텍스트 | `VARCHAR(n)` |
| 고정 길이 텍스트 (GUID, 해시값) | `CHAR(n)` |
| 긴 텍스트 (블로그, 웹페이지) | `TEXT` |
| 바이너리 데이터 (이미지, 파일) | `BYTEA` |
| 정수 데이터 | `INTEGER`, `BIGINT` |
| 부동소수점 데이터 | `REAL`, `DOUBLE PRECISION` |
| 금융 데이터 (정확한 소수점) | `NUMERIC(p, s)` |
| 날짜 및 시간 | `TIMESTAMP` |


